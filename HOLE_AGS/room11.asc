// room script file

float PlayerPositionAccurate = 8960.0;

function room_Load()
{
cEgo.Transparency = 0;
}

function room_AfterFadeIn()
{
  Display("You have entered the game, this is where the tutorial will take place!");
  // TODO: Player intro drop animation,  scripted
}

function room_RepExec()
{
    if (gRopeSnapped == true) { // Trigger game end animation if rope has snapped
      RestartGame();
    }
    
    if (gRopeVelocity < 0.0) { // Just stopped, so animate the stop
      // TODO: Animate stop
      deLabStopVel.Text = String.Format("STP: %f", gRopeVelocity);
      gRopeVelocity = 0.0;
    }
    
    if (gRopeVelocity > 0.0) { // Not stopped and we have velocity, so calculate new position and animate wall Y movement
      PlayerPositionAccurate -= gRopeVelocity / 12.0;
      oWalls1.Y = FloatToInt(PlayerPositionAccurate, eRoundNearest);
    }
    
    
    
}
